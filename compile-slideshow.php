<?php include 'simple_html_dom.php'; ?>
<?php include 'news-array.php'; ?>

<?php

$frameProperties = array();

//A
$frameProperties[] = array("Word" => "A", "StyleClass" => "clearFont");
//$frameProperties[] = array("Word"  => "A", "StyleClass" => "normalFont-blackText-letterSpaced", "ImageURL" => "http://i56.tinypic.com/vpxd2w.gif");
$frameProperties[] = array("Word"  => "AFGHANISTAN", "StyleClass" => "normalFont-blackText-letterSpaced");
$frameProperties[] = array("Word" => "ANTIQUE", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");
$frameProperties[] = array("Word" => "AUTHORITIES", "StyleClass" => "normalFont-blackText-underline");

//B
$frameProperties[] = array("Word" => "BAD", "StyleClass" => "normalFont-whiteText-redBackground");
$frameProperties[] = array("Word" => "BAGHDAD", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");
$frameProperties[] = array("Word" => "BLIND", "StyleClass" => "blackText-blackBackground");
$frameProperties[] = array("Word" => "BLINDED", "StyleClass" => "blackText-blackBackground");
$frameProperties[] = array("Word" => "BLINDING", "StyleClass" => "blackText-blackBackground");
$frameProperties[] = array("Word" => "BLUE", "StyleClass" => "darkblueText-darkblueBackground");
$frameProperties[] = array("Word" => "BOMB", "StyleClass" => "normalFont-whiteText-redBackground", "ImageURL" => "img/flash/1.gif");
$frameProperties[] = array("Word" => "BOMBS", "StyleClass" => "normalFont-whiteText-redBackground", "ImageURL" => "img/flash/1.gif");

//C
$frameProperties[] = array("Word" => "CENSOR", "StyleClass" => "normalFont-yellowText-redBackground");
$frameProperties[] = array("Word" => "CENSORSHIP", "StyleClass" => "blackText-blackTextBackground");
$frameProperties[] = array("Word" => "CENSORED", "StyleClass" => "blackText-blackTextBackground");
$frameProperties[] = array("Word" => "CHILD", "StyleClass" => "fingerFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "CHILDREN", "StyleClass" => "fingerFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "CHILLY", "StyleClass" => "blueText-blueBackground");
$frameProperties[] = array("Word" => "CHINA'S", "StyleClass" => "normalFont-yellowText-redBackground");
$frameProperties[] = array("Word" => "CHINA", "StyleClass" => "normalFont-yellowText-redBackground");
$frameProperties[] = array("Word" => "CHINESE", "StyleClass" => "normalFont-yellowText-redBackground");
$frameProperties[] = array("Word" => "COLD", "StyleClass" => "blueText-blueBackground");
$frameProperties[] = array("Word" => "COMPUTER", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "COMPUTERS", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "COOL", "StyleClass" => "blueText-blueBackground");
$frameProperties[] = array("Word" => "COOLER", "StyleClass" => "blueText-blueBackground");
$frameProperties[] = array("Word" => "COWBOY", "StyleClass" => "cowboyFont-blackText-brownBackground");
$frameProperties[] = array("Word" => "COWBOYS", "StyleClass" => "cowboyFont-blackText-brownBackground");


//D
$frameProperties[] = array("Word" => "DARK", "StyleClass" => "darkblueText-darkblueBackground");
$frameProperties[] = array("Word" => "DEATH", "StyleClass" => "normalFont-whiteText-blackBackground");
$frameProperties[] = array("Word" => "DEADLY", "StyleClass" => "metalFont-redText-greyBackground");
$frameProperties[] = array("Word" => "DEAP", "StyleClass" => "darkblueText-darkblueBackground");
$frameProperties[] = array("Word" => "DIED", "StyleClass" => "normalFont-whiteText-redBackground");
$frameProperties[] = array("Word" => "DEMOCRAT", "StyleClass" => "whiteText-darkblueBackground");
$frameProperties[] = array("Word" => "DEMOCRATIC", "StyleClass" => "whiteText-darkblueBackground");

//E
$frameProperties[] = array("Word" => "EMERGENCY", "StyleClass" => "normalFont-whiteText-whiteBackground", "ImageURL" => "img/emergency/1.gif");
$frameProperties[] = array("Word" => "EMERGENCIES", "StyleClass" => "normalFont-whiteText-whiteBackground", "ImageURL" => "img/emergency/1.gif");
$frameProperties[] = array("Word" => "EVIL", "StyleClass" => "metalFont-redText-greyBackground");


//F
$frameProperties[] = array("Word" => "FATHER", "StyleClass" => "normalFont-whiteText-blueBackground");
$frameProperties[] = array("Word" => "FBI", "StyleClass" => "yellowText-blueBackground");
$frameProperties[] = array("Word" => "FIRE", "StyleClass" => "yellowText-orangeBackground");
$frameProperties[] = array("Word" => "FLASH", "StyleClass" => "normalFont-whiteText-underline");
$frameProperties[] = array("Word" => "FLORIDA", "StyleClass" => "funFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "FOREST", "StyleClass" => "brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "FRANCE", "StyleClass" => "classicFont-blackText-lightgreyBackground");
$frameProperties[] = array("Word" => "FROST", "StyleClass" => "blueText-blueBackground");
$frameProperties[] = array("Word" => "FUN", "StyleClass" => "funFont-pinkText-blackBackground");

//G
$frameProperties[] = array("Word" => "GOOD", "StyleClass" => "normalFont-whiteText-greenBackground");
$frameProperties[] = array("Word" => "GRASS", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "GREED", "StyleClass" => "normalFont-whiteText-greenBackground");


//H
$frameProperties[] = array("Word" => "HACKER", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "HACKERS", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "HACKING", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "HACKINGS", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "HACKED", "StyleClass" => "computerFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "HE", "StyleClass" => "normalFont-whiteText-blueBackground");
$frameProperties[] = array("Word" => "HEAT", "StyleClass" => "yellowText-orangeBackground");
$frameProperties[] = array("Word" => "HEAVY", "StyleClass" => "metalFont-redText-greyBackground");
$frameProperties[] = array("Word" => "HER", "StyleClass" => "normalFont-whiteText-pinkBackground");
$frameProperties[] = array("Word" => "HIDE", "StyleClass" => "blackText-blackTextBackground");
$frameProperties[] = array("Word" => "HIDES", "StyleClass" => "blackText-blackTextBackground");
$frameProperties[] = array("Word" => "HIDDEN", "StyleClass" => "blackText-blackTextBackground");
$frameProperties[] = array("Word" => "HIS", "StyleClass" => "normalFont-whiteText-blueBackground");
$frameProperties[] = array("Word" => "HOT", "StyleClass" => "yellowText-orangeBackground");


//I
//J

//K
$frameProperties[] = array("Word" => "KID", "StyleClass" => "fingerFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "KIDS", "StyleClass" => "fingerFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "KILLED", "StyleClass" => "normalFont-whiteText-redBackground");

//L
$frameProperties[] = array("Word" => "LEAF", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "LEAVES", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "LEFT", "StyleClass" => "whiteText-darkblueBackground");
$frameProperties[] = array("Word" => "LETTER", "StyleClass" => "cursiveFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "LETTERS", "StyleClass" => "cursiveFont-blackText-whiteBackground");

//M
$frameProperties[] = array("Word" => "METAL", "StyleClass" => "metalFont-redText-greyBackground");
$frameProperties[] = array("Word" => "MIAMI", "StyleClass" => "funFont-greenText-blackBackground");
$frameProperties[] = array("Word" => "MONEY", "StyleClass" => "normalFont-whiteText-greenBackground");
$frameProperties[] = array("Word" => "MOTHER", "StyleClass" => "normalFont-whiteText-pinkBackground");

//N
$frameProperties[] = array("Word" => "NATURE", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "NATURES", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "NEWS", "StyleClass" => "classicFont-blackText-lightgreyBackground");
$frameProperties[] = array("Word" => "NEWSPAPER", "StyleClass" => "classicFont-blackText-lightgreyBackground");
$frameProperties[] = array("Word" => "NIGHT", "StyleClass" => "darkblueText-darkblueBackground");


//O OIL
$frameProperties[] = array("Word" => "OLD", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");


//P
$frameProperties[] = array("Word" => "PAKISTAN", "StyleClass" => "whiteText-forestgreenBackground");
$frameProperties[] = array("Word" => "PARIS", "StyleClass" => "classicFont-blackText-lightgreyBackground");
$frameProperties[] = array("Word" => "PARTY", "StyleClass" => "funFont-pinkText-blackBackground");
$frameProperties[] = array("Word" => "PARTIES", "StyleClass" => "funFont-pinkText-blackBackground");
$frameProperties[] = array("Word" => "PLANT", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "PLANTS", "StyleClass" => "skinnyFont-brownText-forestgreenBackground");
$frameProperties[] = array("Word" => "POLICE", "StyleClass" => "normalFont-whiteText-whiteBackground", "ImageURL" => "img/emergency/1.gif");
$frameProperties[] = array("Word" => "PRIVATE", "StyleClass" => "blackText-blackTextBackground");


//Q

//R
$frameProperties[] = array("Word" => "RADICAL", "StyleClass" => "cursiveFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "REPUBLICAN", "StyleClass" => "normalFont-whiteText-redBackground");
$frameProperties[] = array("Word" => "RIGHT", "StyleClass" => "normalFont-whiteText-redBackground");

//S
$frameProperties[] = array("Word" => "SCAN", "StyleClass" => "normalFont-blackText-letterSpaced", "ImageURL" => "img/line/1.gif");
$frameProperties[] = array("Word" => "SCANNED", "StyleClass" => "normalFont-blackText-letterSpaced", "ImageURL" => "img/line/1.gif");
$frameProperties[] = array("Word" => "SCORCHING", "StyleClass" => "yellowText-orangeTextBackground");
$frameProperties[] = array("Word" => "STORY", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");
$frameProperties[] = array("Word" => "SLOW", "StyleClass" => "normalFont-blackText-letterSpaced");
$frameProperties[] = array("Word" => "STRINGS", "StyleClass" => "cursiveFont-blackText-whiteBackground", "ImageURL" => "img/strings/1.gif");
$frameProperties[] = array("Word" => "SUN", "StyleClass" => "", "ImageURL" => "img/sun/1.gif");
$frameProperties[] = array("Word" => "SYRIA", "StyleClass" => "", "ImageURL" => "img/fade/2.gif");


//T
$frameProperties[] = array("Word" => "THE", "StyleClass" => "clearBackground");
$frameProperties[] = array("Word" => "TYPED", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");
$frameProperties[] = array("Word" => "TYPING", "StyleClass" => "typewriterFont-blackText-whiteTextBackground");



//U
//V
$frameProperties[] = array("Word" => "VIOLENCE", "StyleClass" => "normalFont-whiteText-orangeBackground");
$frameProperties[] = array("Word" => "VIOLENT", "StyleClass" => "normalFont-whiteText-orangeBackground");



//W
$frameProperties[] = array("Word" => "WARNING", "StyleClass" => "", "ImageURL" => "img/warning/1.gif");
$frameProperties[] = array("Word" => "WARNINGS", "StyleClass" => "", "ImageURL" => "img/warning/1.gif");
$frameProperties[] = array("Word" => "WAS", "StyleClass" => "");
$frameProperties[] = array("Word" => "WEST", "StyleClass" => "cowboyFont-blackText-brownBackground");
$frameProperties[] = array("Word" => "WESTERN", "StyleClass" => "cowboyFont-blackText-brownBackground");
$frameProperties[] = array("Word" => "WINE", "StyleClass" => "lightpurpleText-purpleBackground");


//X
//Y
$frameProperties[] = array("Word" => "YOUNG", "StyleClass" => "fingerFont-blackText-whiteBackground");
$frameProperties[] = array("Word" => "YOUTH", "StyleClass" => "fingerFont-blackText-whiteBackground");

//Z
?>

<?php

$wordIndex = 1;

class returnFrame 
{

	
	public $wordClass;
	public $delayTag;
	public $delay;
	public $word;
	public $imgURL;
	public $row=0;
	public $factor;

	function chooseStyle($item){
		$this->word = $item; 
		global $frameProperties;
		//var_dump($frameProperties);
		/////////////// BEGIN TEXT STYLING ////////////////////

		foreach($frameProperties as $frameElement)
		{
			if($this->word == $frameElement['Word'])
			{
				$this->wordClass = $frameElement['StyleClass'];
				
				if(isset($frameElement['ImageURL'])){ $this->imgURL = $frameElement['ImageURL']; }		
				if(isset($frameElement['Delay'])){ $this->delay = $frameElement['Delay']; }
				if(isset($frameElement['ImageFactor'])){ $this->factor = $frameElement['ImageFactor']; }
			
				if(count($this->delay) > 0)	
				{
					$this->delayTag = 'data-delay="' . $this->delay .'"';
					$this->wordClass .= " delay";
				}
			}
		}
		
		/////////////// END TEXT STYLING ////////////////////
		
		
	}
	
		
	function display_image()
	{
		if(isset($this->imgURL)){
		//$sizeInfo = getimagesize($this->imgURL);
		//echo  '<img src="' . $this->imgURL .'" width="' . $sizeInfo[0] * $this->factor . '" height="' . $sizeInfo[1] * $this->factor . '" style="margin-top: -' . $sizeInfo[1] * $this->factor / 2 . 'px; margin-left: -' . $sizeInfo[0] * $this->factor / 2  . 'px;">';
		echo  '<img src="' . $this->imgURL .'">';		
		}

	}
	
	function begin_div()
	{
		if($this->word == ""){ }
		else{
		global $wordIndex;
		echo '<div id="frame-' . $wordIndex . '" class="' . $this->wordClass . '" ' . $this->delayTag .'>' . '<span>' . $this->word . '</span>' ;
		}
	}


	function end_div()
	{
		if($this->word == ""){ }
		else{
		echo '</div>';
		echo "\n";
		}
	}

	function __destruct(){
		$this->wordClass= null;
		$this->delayTag= null;
		$this->delay= null;
		$this->imgURL= null;
		$this->factor= null;
	}	
}




// Array of symbols and words that need to be replace in $data
$patterns = array('/\&[0-9a-z]+/i', '/\&#[0-9a-z]+/i', "/[^0-9a-zA-Z\'-\s+]/i", '/\b,/', '/--/');

$title = $_GET['title'];

// Link used to retrieve new article   
$place = $_GET['link'];

// Tells the index of the array that should be used
$select = $_GET['select'];

// This defines what tag should be used in search of NEWS content (beginning to end)
$mineTag = $news[$select][2];

// Tell parser which URL to use
$html = file_get_html($place);

//var $data;

// mines data to form news article
foreach($html->find($mineTag) as $article) {
//echo $article->p . ' ';
$data .= $article->plaintext;
}

$data = PREG_REPLACE($patterns, ' ', $data);
$data = rtrim($data, ",");
$data = strtoupper($data);
$headlines = explode (" ", $data);
    
/////////////////


?> 



<!DOCTYPE html>   
<html>
<head>
<title><?php echo $title; ?></title>
<meta HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=.3"/>  
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="animate-text.js"></script>
<link href='http://fonts.googleapis.com/css?family=Raleway:700' rel='stylesheet' type='text/css'>
<link href='style.css' rel='stylesheet' type='text/css'>
<style>
#back a{color: #fff; text-decoration: none;}
</style>
<script>
$(document).ready(function() {
$("#back").delay(2000).fadeOut(1000);
var i = null;
$('#top').mousemove(function() {
    clearTimeout(i);
    $("#back").fadeIn(1000);
    i = setTimeout('$("#back").fadeOut(1000);', 5000);
}).mouseleave(function() {
    clearTimeout(i);
    $("#back").fadeOut(1000);  
  });
});
</script>

</head>

<body>
<div id="top" style="position: fixed; top: 0; left: 0; width: 100%; height: 100px;">
  <div id="back" style="position: fixed; top: 0; left:40px; padding: 10px; color: #fff; background: #000;">
  <a href="index.php">back</a>
  </div> <!--#back -->
</div>
<div id="wrapper">
<div id="text">
<?php 

$frame = new returnFrame();

if(empty($data) == false){

	foreach ($headlines as $item){
		$headlines[] = $item;
		$frame->chooseStyle($item);
		$frame->begin_div();
		$frame->display_image();
		$frame->end_div();
		$frame->__destruct();
		$wordIndex++;
	}

}

else{
	echo "<div><span>not available</span></div>\n";
}

?>
</div><!-- text -->
</div><!-- #wrapper -->
</body>
</html>
